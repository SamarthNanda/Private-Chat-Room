{"version":3,"sources":["components/Register.js","components/Login.js","icons/onlineIcon.png","components/Chat/InfoBar/InfoBar.js","components/Chat/Chat.js","icons/closeIcon.png","components/Chat/Messages/Message/Message.js","components/Chat/Messages/Messages.js","components/Chat/Input/Input.js","components/Chat/TextContainer/TextContainer.js","components/Header.js","App.js","reportWebVitals.js","index.js"],"names":["Register","useState","userTypeReg","setUserTypeReg","usernameReg","setUsernameReg","passwordReg","setPasswordReg","registered","setRegistered","className","onSubmit","e","preventDefault","Axios","post","userType","username","password","then","response","console","log","data","message","type","id","name","placeholder","required","onChange","target","value","selected","to","Login","props","setUsername","setPassword","room","setRoom","loginStatus","setLoginStatus","setUserType","onClick","alert","localStorage","setItem","JSON","stringify","infoBar","socket","src","onlineIcon","alt","removeItem","href","Message","text","user","isSentByCurrentUser","email","ReactEmoji","emojify","Messages","messages","map","i","Input","event","setMessage","onKeyPress","key","sendMessage","TextContainer","users","Chat","loggedIn","setLoggedIn","setEmail","setMessages","setUsers","PORT","process","ENDPOINT","connectionOptions","useEffect","parse","getItem","io","emit","off","on","Header","path","component","exact","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1a5a4eb2.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport '../App.css';\r\nimport Axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function Register() {\r\n\r\n\r\n    // register route----------------------------------------------------------------------------\r\n    const [userTypeReg, setUserTypeReg] = useState(\"\");\r\n    const [usernameReg, setUsernameReg] = useState(\"\");\r\n    const [passwordReg, setPasswordReg] = useState(\"\");\r\n\r\n    const [registered, setRegistered] = useState(\"\");\r\n\r\n\r\n    function register(e) {\r\n        e.preventDefault();\r\n\r\n        Axios.post('/register', {\r\n            userType: userTypeReg,\r\n            username: usernameReg,\r\n            password: passwordReg\r\n        }).then(function (response) {\r\n            console.log(response.data.message);\r\n            setRegistered(response.data.message);\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"form\">\r\n            <h1 className=\" mt-5\">Registration Page</h1>\r\n            <form onSubmit={register}>\r\n                <select type=\"text\" id=\"userType\" className=\"form-control mt-4\" name=\"userType\" placeholder=\"User Type (Admin || Student)\" required\r\n                    onChange={(e) => {\r\n                        setUserTypeReg(e.target.value);\r\n                    }}\r\n                ><option selected>Choose User Type...</option><option value=\"Admin\">Admin</option>\r\n                    <option value=\"Student\">Student</option></select>\r\n                <input type=\"text\" id=\"login\" className=\"form-control mt-1\" name=\"username\" placeholder=\"Username...\" required\r\n                    onChange={(e) => {\r\n                        setUsernameReg(e.target.value);\r\n                    }}\r\n                />\r\n                <input type=\"password\" id=\"password\" className=\"form-control mt-1\" name=\"password\" placeholder=\"Password...\" required\r\n                    onChange={(e) => {\r\n                        setPasswordReg(e.target.value);\r\n                    }}\r\n                />\r\n                <button type=\"submit\" className=\"btn btn-success mt-4\">Register</button><span>   </span>\r\n                <Link to=\"/\">\r\n                    <button type=\"submit\" className=\"btn btn-info mt-4\">Login</button>\r\n                </Link>\r\n\r\n\r\n            </form>\r\n            {registered === \"saved\" ? <div><Link to=\"/\"><button className=\"btn btn-info mt-3\">Login to Continue</button></Link></div> : <span> </span>}\r\n            {registered === \"error\" ? <div><p className=\"errorText\">You are Already Registered!</p><Link to=\"/\"><button className=\"btn btn-info mt-3\">Click Here To Login</button></Link></div> : <span> </span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n","\r\nimport React, { useState } from 'react'\r\nimport '../App.css';\r\nimport Axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Cookies from 'js-cookie'\r\nimport Decode from 'jwt-decode'\r\n\r\n\r\nexport default function Login(props) {\r\n\r\n    // login route------------------------------------------------------------------------------\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [room, setRoom] = useState(\"\");\r\n\r\n    const [loginStatus, setLoginStatus] = useState(\"\");\r\n    const [userType, setUserType] = useState(\"\")\r\n\r\n\r\n    // async function requestLogin(token, refreshToken) {\r\n\r\n    //     return new Promise((resolve, reject) => {\r\n\r\n    //         Axios.get(\"http://localhost:3001/chat\", {}, { headers:{\"x-access-token\":{token}} })\r\n    //             .then(async function(response){\r\n    //                 if (response.data.success === false) {\r\n    //                     if (response.data.message === \"User not authenticated\") {\r\n    //                         // set err message to login again. \r\n    //                     } else if (response.data.message === \"Access token expired\") {\r\n    //                         const token = await refresh(refreshToken);\r\n    //                         return await requestLogin(token, refreshToken);\r\n    //                     }\r\n    //                     resolve(false);\r\n    //                 } else {\r\n    //                     // protected route has been accessed, response can be used. \r\n    //                     resolve(true);\r\n    //                 }\r\n    //             });\r\n    //     });\r\n    // };\r\n\r\n    // async function refresh(refreshToken) {\r\n\r\n    //     return new Promise(function (resolve, reject) {\r\n    //         Axios.post(\"http://localhost:3001/refresh\", refreshToken)\r\n    //             .then(function (response) {\r\n    //                 if (response.data.success === true) {\r\n    //                     localStorage.setItem(\"user\", JSON.stringify(response.data.token));\r\n    //                     return response.data.token;\r\n    //                 } else {\r\n    //                     // set err\r\n    //                     return response.data.message;\r\n    //                 }\r\n    //             });\r\n    //     });\r\n    // }\r\n\r\n    // async function hasAccess(token, refreshToken) {\r\n    //     if (!refreshToken) return null;\r\n    //     if (token === undefined) {\r\n    //         token = await refresh(refreshToken);\r\n    //         return token;\r\n    //     }\r\n    // }\r\n\r\n    // async function protect(e) {\r\n    //     let userData = localStorage.getItem('user');\r\n    //     let token = userData.token;\r\n    //     let refreshToken = userData.refreshToken;\r\n\r\n    //     token = await hasAccess(token, refreshToken);\r\n    //     if (!token) {\r\n    //         // set err\r\n    //     } else {\r\n    //         await requestLogin(token, refreshToken);\r\n    //     }\r\n    // }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        console.log(\"login is called\");\r\n        Axios.post('/login', {\r\n            username: username,\r\n            password: password,\r\n            room: room\r\n        }).then(function (response) {\r\n            if (response.data.message) {\r\n                console.log(response.data.message);\r\n                if (response.data.message === \"wrong password\") {\r\n                    alert(\"Try logging in with a Correct Password\");\r\n                } else {\r\n                    alert(\"Try logging in with a valid Username or Register yourself Now\");\r\n                }\r\n            }\r\n            else {\r\n                // Cookies.set(\"refreshToken\", refreshToken);\r\n\r\n                // Cookies.set(\"email\", decoded.email);\r\n                // Cookies.set(\"userType\", decoded.userType);\r\n                // Cookies.set(\"token\", token);\r\n                // const decoded = Decode(token);\r\n                // const { token } = response.data;\r\n                // console.log(decoded);\r\n\r\n                localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n                setUserType(response.data.userType);\r\n                setLoginStatus(\"/chat\");\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"form\">\r\n\r\n            <h1 className=\"mt-5\">Login Page</h1>\r\n\r\n            <form className=\"mt-4\">\r\n                <input type=\"text\" id=\"login\" className=\"form-control\" name=\"username\" placeholder=\"Username...\" required\r\n                    onChange={(e) => {\r\n                        setUsername(e.target.value);\r\n                    }}\r\n                />\r\n                <input type=\"password\" id=\"password\" className=\"form-control mt-1\" name=\"password\" placeholder=\"Password...\" required\r\n                    onChange={(e) => {\r\n                        setPassword(e.target.value);\r\n                    }}\r\n                />\r\n                <input type=\"text\" id=\"room\" className=\"form-control mt-1\" name=\"room\" placeholder=\"Room Name...\" required\r\n                    onChange={(e) => {\r\n                        setRoom(e.target.value);\r\n                    }}\r\n                />\r\n                <button type=\"submit\" className=\"btn btn-success mt-4\" onClick={handleSubmit}>Login</button><span>   </span>\r\n\r\n\r\n                <Link to=\"/register\">\r\n                    <button type=\"submit\" className=\"btn btn-info mt-4\">Register Now</button>\r\n                </Link>\r\n\r\n            </form>\r\n            {loginStatus === \"/chat\"\r\n                ? <div><h3 className=\"mt-4\">Hi {username}</h3>\r\n                    <Link to={loginStatus}>\r\n                        <button className=\"btn btn-info mt-3\">Enter the Room '{room}'</button>\r\n                    </Link></div>\r\n                : <span> </span>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","import React from 'react'\r\n\r\nimport onlineIcon from '../../../icons/onlineIcon.png';\r\nimport closeIcon from '../../../icons/closeIcon.png';\r\n\r\nimport './InfoBar.css';\r\n\r\nfunction infoBar({ room }) {\r\n\r\n    function handleClick() {\r\n        localStorage.removeItem(\"user\");\r\n    }\r\n    return (\r\n        <div className=\"infoBar\">\r\n            <div className=\"leftInnerContainer\">\r\n                <img className=\"onlineIcon\" src={onlineIcon} alt=\"online\" />\r\n                <h3>{room}</h3>\r\n            </div>\r\n            <div className=\"rightInnerContainer\">\r\n                <a onClick={handleClick} href=\"/\"><img src={closeIcon} alt=\"close\" /></a>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default infoBar;\r\n\r\n","import { React, useState, useEffect } from 'react';\r\nimport io from 'socket.io-client';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nimport InfoBar from './InfoBar/InfoBar';\r\nimport Messages from './Messages/Messages';\r\nimport Input from './Input/Input';\r\nimport TextContainer from './TextContainer/TextContainer'\r\n\r\nimport './Chat.css';\r\n\r\nlet socket;\r\n\r\nfunction Chat() {\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [room, setRoom] = useState(\"\");\r\n\r\n    const [message, setMessage] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n\r\n    const [users, setUsers] = useState(\"\");\r\n\r\n    const PORT = process.env.PORT || 3001;\r\n    const ENDPOINT = `localhost:${PORT}`;\r\n    var connectionOptions = {\r\n        \"force new connection\": true,\r\n        \"reconnectionAttempts\": \"Infinity\",\r\n        \"timeout\": 10000,\r\n        \"transports\": [\"websocket\"]\r\n    };\r\n\r\n    //useEffect for joining the chat -----------------------------------------------------\r\n    useEffect(() => {\r\n        const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n        if (user === null) {\r\n            setLoggedIn(false);\r\n        } else {\r\n            setLoggedIn(true);\r\n            const { email, room } = user;\r\n            \r\n            socket = io(ENDPOINT, connectionOptions);\r\n            setEmail(email);\r\n            setRoom(room);\r\n\r\n            socket.emit(\"join\", { email, room }, function (){});\r\n\r\n            return (function () {\r\n                socket.emit(\"disconnect\");\r\n                socket.off();\r\n            })\r\n        }\r\n\r\n    }, [ENDPOINT]);\r\n\r\n    // useEffect for manageing meassages in chat------------------------------------------\r\n    useEffect(() => {\r\n        const user = JSON.parse(localStorage.getItem(\"user\"));\r\n        if (user !==null) {\r\n            socket.on(\"message\", function (message) {\r\n                setMessages([...messages, message]);\r\n            })\r\n            socket.on(\"roomData\", function ({ users }) {\r\n                setUsers(users);\r\n            })\r\n        }\r\n\r\n    }, [messages])\r\n\r\n    function sendMessage(event) {\r\n        event.preventDefault();\r\n\r\n        if (message) {\r\n            socket.emit(\"sendMessage\", message, () => {\r\n                setMessage(\"\");\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {loggedIn \r\n                ? <div><h1 className=\"mt-5 mb-5\">Private Chat Room</h1>\r\n                    <div className=\"container\">\r\n                        <InfoBar room={room} />\r\n                        <Messages messages={messages} email={email} />\r\n                        <Input setMessage={setMessage} sendMessage={sendMessage} message={message} />\r\n                    </div>\r\n                    <TextContainer users={users} /></div>\r\n                : <div>\r\n                    <h1 className=\"mt-5\">First Login to Join Chat</h1>\r\n                    <Link to=\"/\">\r\n                        <button type=\"submit\" className=\"btn-success loginbtn mt-4\">Login</button>\r\n                    </Link>\r\n                    </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import React from 'react';\n\nimport './Message.css';\n\nimport ReactEmoji from 'react-emoji';\n\nconst Message = ({ message: { text, user }, email }) => {\n  let isSentByCurrentUser = false;\n\n  const name = email;\n\n  if(user === name) {\n    isSentByCurrentUser = true;\n  }\n\n  return (\n    isSentByCurrentUser\n      ? (\n        <div className=\"messageContainer justifyEnd\">\n          <p className=\"sentText pr-10\">{name}</p>\n          <div className=\"messageBox backgroundBlue\">\n            <p className=\"messageText colorWhite\">{ReactEmoji.emojify(text)}</p>\n          </div>\n        </div>\n        )\n        : (\n          <div className=\"messageContainer justifyStart\">\n            <div className=\"messageBox backgroundLight\">\n              <p className=\"messageText colorDark\">{ReactEmoji.emojify(text)}</p>\n            </div>\n            <p className=\"sentText pl-10 \">{user}</p>\n          </div>\n        )\n  );\n}\n\nexport default Message;","import React from 'react';\n\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\nimport Message from './Message/Message';\n\nimport './Messages.css';\n\nconst Messages = ({ messages, email }) => (\n  <ScrollToBottom className=\"messages\">\n    {messages.map((message, i) => <div key={i}><Message message={message} email={email}/></div>)}\n  </ScrollToBottom>\n);\n\nexport default Messages; ","import React from 'react';\n\nimport './Input.css';\n\nconst Input = (props) => (\n  <form className=\"formInput\">\n    <input\n      className=\"input\"\n      type=\"text\"\n      placeholder=\"Type a message...\"\n      value={props.message}\n      onChange={(event) => props.setMessage(event.target.value)}\n      onKeyPress={event => event.key === 'Enter' ? props.sendMessage(event) : null}\n    />\n    <button className=\"sendButton\" onClick={(e) => props.sendMessage(e)}>SEND</button>\n  </form>\n)\n\nexport default Input;","import React from 'react';\n\nimport onlineIcon from '../../../icons/onlineIcon.png';\n\nimport './TextContainer.css';\n\nconst TextContainer = ({ users }) => (\n  <div className=\"textContainer\">\n    {\n      users\n        ? (\n          <div>\n            <h3>People currently Online:</h3>\n            <div className=\"activeContainer\">\n              <h2>\n                {users.map(({name}) => (\n                  <div key={name} className=\"activeItem\">\n                    {name}\n                    <img alt=\"Online\" src={onlineIcon}/>\n                  </div>\n                ))}\n              </h2>\n            </div>\n          </div>\n        )\n        : null\n    }\n  </div>\n);\n\nexport default TextContainer;","import React from 'react';\r\nimport Register from './Register';\r\nimport Login from './Login'\r\nimport { BrowserRouter as Router, HashRouter, Route, Switch} from 'react-router-dom'\r\nimport Chat from './Chat/Chat'\r\n\r\n\r\nexport default function Header(props) {\r\n\r\n    return (\r\n        <div>\r\n            <header className=\"App-header\">\r\n                \r\n                <HashRouter>\r\n                    <Switch>\r\n                        <Route path=\"/register\" component={Register} />\r\n                        <Route path=\"/\" exact component={Login} />\r\n                        <Route path=\"/chat\" exact component={Chat} />\r\n                    </Switch>\r\n                </HashRouter>\r\n                \r\n            </header>\r\n        </div>\r\n    )\r\n}\r\n","\nimport './App.css';\nimport Header from './components/Header';\n\n\nfunction App() {\n\n\n  return (\n    <div className=\"App\">\n      <Header />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n  <HashRouter>\n    <App />\n  </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}