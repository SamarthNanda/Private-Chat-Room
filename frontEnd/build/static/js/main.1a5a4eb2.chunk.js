(this.webpackJsonplogin=this.webpackJsonplogin||[]).push([[0],{125:function(e,t,s){},127:function(e,t,s){},128:function(e,t,s){},129:function(e,t,s){},130:function(e,t,s){},131:function(e,t,s){},132:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s.n(n),a=s(61),r=s.n(a),i=(s(28),s(5)),o=s(25),l=s.n(o),j=s(7),b=s(1);function m(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(""),r=Object(i.a)(a,2),o=r[0],m=r[1],d=Object(n.useState)(""),u=Object(i.a)(d,2),O=u[0],h=u[1],x=Object(n.useState)(""),g=Object(i.a)(x,2),p=g[0],f=g[1];return Object(b.jsxs)("div",{className:"form",children:[Object(b.jsx)("h1",{className:" mt-5",children:"Registration Page"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l.a.post("/register",{userType:s,username:o,password:O}).then((function(e){console.log(e.data.message),f(e.data.message)}))},children:[Object(b.jsxs)("select",{type:"text",id:"userType",className:"form-control mt-4",name:"userType",placeholder:"User Type (Admin || Student)",required:!0,onChange:function(e){c(e.target.value)},children:[Object(b.jsx)("option",{selected:!0,children:"Choose User Type..."}),Object(b.jsx)("option",{value:"Admin",children:"Admin"}),Object(b.jsx)("option",{value:"Student",children:"Student"})]}),Object(b.jsx)("input",{type:"text",id:"login",className:"form-control mt-1",name:"username",placeholder:"Username...",required:!0,onChange:function(e){m(e.target.value)}}),Object(b.jsx)("input",{type:"password",id:"password",className:"form-control mt-1",name:"password",placeholder:"Password...",required:!0,onChange:function(e){h(e.target.value)}}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success mt-4",children:"Register"}),Object(b.jsx)("span",{children:"   "}),Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-info mt-4",children:"Login"})})]}),"saved"===p?Object(b.jsx)("div",{children:Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)("button",{className:"btn btn-info mt-3",children:"Login to Continue"})})}):Object(b.jsx)("span",{children:" "}),"error"===p?Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"errorText",children:"You are Already Registered!"}),Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)("button",{className:"btn btn-info mt-3",children:"Click Here To Login"})})]}):Object(b.jsx)("span",{children:" "})]})}s(94),s(95);function d(e){var t=Object(n.useState)(""),s=Object(i.a)(t,2),c=s[0],a=s[1],r=Object(n.useState)(""),o=Object(i.a)(r,2),m=o[0],d=o[1],u=Object(n.useState)(""),O=Object(i.a)(u,2),h=O[0],x=O[1],g=Object(n.useState)(""),p=Object(i.a)(g,2),f=p[0],A=p[1],N=Object(n.useState)(""),v=Object(i.a)(N,2),S=(v[0],v[1]);return Object(b.jsxs)("div",{className:"form",children:[Object(b.jsx)("h1",{className:"mt-5",children:"Login Page"}),Object(b.jsxs)("form",{className:"mt-4",children:[Object(b.jsx)("input",{type:"text",id:"login",className:"form-control",name:"username",placeholder:"Username...",required:!0,onChange:function(e){a(e.target.value)}}),Object(b.jsx)("input",{type:"password",id:"password",className:"form-control mt-1",name:"password",placeholder:"Password...",required:!0,onChange:function(e){d(e.target.value)}}),Object(b.jsx)("input",{type:"text",id:"room",className:"form-control mt-1",name:"room",placeholder:"Room Name...",required:!0,onChange:function(e){x(e.target.value)}}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success mt-4",onClick:function(e){e.preventDefault(),console.log("login is called"),l.a.post("/login",{username:c,password:m,room:h}).then((function(e){e.data.message?(console.log(e.data.message),"wrong password"===e.data.message?alert("Try logging in with a Correct Password"):alert("Try logging in with a valid Username or Register yourself Now")):(localStorage.setItem("user",JSON.stringify(e.data)),S(e.data.userType),A("/chat"))}))},children:"Login"}),Object(b.jsx)("span",{children:"   "}),Object(b.jsx)(j.b,{to:"/register",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-info mt-4",children:"Register Now"})})]}),"/chat"===f?Object(b.jsxs)("div",{children:[Object(b.jsxs)("h3",{className:"mt-4",children:["Hi ",c]}),Object(b.jsx)(j.b,{to:f,children:Object(b.jsxs)("button",{className:"btn btn-info mt-3",children:["Enter the Room '",h,"'"]})})]}):Object(b.jsx)("span",{children:" "})]})}var u=s(3),O=s(67),h=s(63),x=s.n(h),g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=";s(125);var p,f=function(e){var t=e.room;return Object(b.jsxs)("div",{className:"infoBar",children:[Object(b.jsxs)("div",{className:"leftInnerContainer",children:[Object(b.jsx)("img",{className:"onlineIcon",src:g,alt:"online"}),Object(b.jsx)("h3",{children:t})]}),Object(b.jsx)("div",{className:"rightInnerContainer",children:Object(b.jsx)("a",{onClick:function(){localStorage.removeItem("user")},href:"/",children:Object(b.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=",alt:"close"})})})]})},A=s(66),N=(s(127),s(35)),v=s.n(N),S=function(e){var t=e.message,s=t.text,n=t.user,c=!1,a=e.email;return n===a&&(c=!0),c?Object(b.jsxs)("div",{className:"messageContainer justifyEnd",children:[Object(b.jsx)("p",{className:"sentText pr-10",children:a}),Object(b.jsx)("div",{className:"messageBox backgroundBlue",children:Object(b.jsx)("p",{className:"messageText colorWhite",children:v.a.emojify(s)})})]}):Object(b.jsxs)("div",{className:"messageContainer justifyStart",children:[Object(b.jsx)("div",{className:"messageBox backgroundLight",children:Object(b.jsx)("p",{className:"messageText colorDark",children:v.a.emojify(s)})}),Object(b.jsx)("p",{className:"sentText pl-10 ",children:n})]})},C=(s(128),function(e){var t=e.messages,s=e.email;return Object(b.jsx)(A.a,{className:"messages",children:t.map((function(e,t){return Object(b.jsx)("div",{children:Object(b.jsx)(S,{message:e,email:s})},t)}))})}),y=(s(129),function(e){return Object(b.jsxs)("form",{className:"formInput",children:[Object(b.jsx)("input",{className:"input",type:"text",placeholder:"Type a message...",value:e.message,onChange:function(t){return e.setMessage(t.target.value)},onKeyPress:function(t){return"Enter"===t.key?e.sendMessage(t):null}}),Object(b.jsx)("button",{className:"sendButton",onClick:function(t){return e.sendMessage(t)},children:"SEND"})]})}),w=(s(130),function(e){var t=e.users;return Object(b.jsx)("div",{className:"textContainer",children:t?Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"People currently Online:"}),Object(b.jsx)("div",{className:"activeContainer",children:Object(b.jsx)("h2",{children:t.map((function(e){var t=e.name;return Object(b.jsxs)("div",{className:"activeItem",children:[t,Object(b.jsx)("img",{alt:"Online",src:g})]},t)}))})})]}):null})});s(131);var I=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(""),r=Object(i.a)(a,2),o=r[0],l=r[1],m=Object(n.useState)(""),d=Object(i.a)(m,2),u=d[0],h=d[1],g=Object(n.useState)(""),A=Object(i.a)(g,2),N=A[0],v=A[1],S=Object(n.useState)([]),I=Object(i.a)(S,2),T=I[0],R=I[1],E=Object(n.useState)(""),P=Object(i.a)(E,2),U=P[0],L=P[1],B=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PORT||3001,D="localhost:".concat(B),M={"force new connection":!0,reconnectionAttempts:"Infinity",timeout:1e4,transports:["websocket"]};return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));if(null!==e){c(!0);var t=e.email,s=e.room;return p=x()(D,M),l(t),h(s),p.emit("join",{email:t,room:s},(function(){})),function(){p.emit("disconnect"),p.off()}}c(!1)}),[D]),Object(n.useEffect)((function(){null!==JSON.parse(localStorage.getItem("user"))&&(p.on("message",(function(e){R([].concat(Object(O.a)(T),[e]))})),p.on("roomData",(function(e){var t=e.users;L(t)})))}),[T]),Object(b.jsx)("div",{children:s?Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"mt-5 mb-5",children:"Private Chat Room"}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(f,{room:u}),Object(b.jsx)(C,{messages:T,email:o}),Object(b.jsx)(y,{setMessage:v,sendMessage:function(e){e.preventDefault(),N&&p.emit("sendMessage",N,(function(){v("")}))},message:N})]}),Object(b.jsx)(w,{users:U})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{className:"mt-5",children:"First Login to Join Chat"}),Object(b.jsx)(j.b,{to:"/",children:Object(b.jsx)("button",{type:"submit",className:"btn-success loginbtn mt-4",children:"Login"})})]})})};function T(e){return Object(b.jsx)("div",{children:Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)(j.a,{children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/register",component:m}),Object(b.jsx)(u.a,{path:"/",exact:!0,component:d}),Object(b.jsx)(u.a,{path:"/chat",exact:!0,component:I})]})})})})}var R=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(T,{})})},E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,133)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(j.a,{children:Object(b.jsx)(R,{})})}),document.getElementById("root")),E()},28:function(e,t,s){}},[[132,1,2]]]);
//# sourceMappingURL=main.1a5a4eb2.chunk.js.map